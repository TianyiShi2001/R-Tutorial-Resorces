[
["ch3.html", "Chapter 3 更多的基本操作，数据类型，运算，逻辑和函数 3.1 运算 3.2 逻辑 3.3 以下是不重要的一些内容 3.4 简易的统计学计算", " Chapter 3 更多的基本操作，数据类型，运算，逻辑和函数 3.1 运算 3.1.1 基础 3.1.1.1 基础中的基础（加减乘除） 最基础的arithmetic operators（数学运算符）有： 符号 描述 + 加 - 减 * 乘 / 除以 ^或** 乘幂 以上这些应该不需要解释。 3.1.1.2 求整数商和余数 %% 是求余数符号，比如7%%3得到1； %/% 是求整数商，比如7%%3得到2； 最常见的两个用法是判定一个数的奇偶性，和时间，角度等单位的转换。（后面再详细介绍）。 3.1.1.3 对数 log(x, base=y)便是运算\\(\\log_y{x}\\)，或者写成 log(base=y, x)也可以; 它可以简写成log(x,y)，同样表示的是\\(\\log_y{x}\\)，但是如果写成log(y,x)就变成了\\(\\log_x{y}\\) 如果你有一点编程基础，应该能看明白为什么，如果没看明白，下面讲函数的时候我会解释。 3.2 逻辑 3.2.1 TRUE和FALSE 3.2.2 Logical Operators（逻辑运算符） R中的logical operators 有： 符号 描述 == equal to（等于） != equal to（不等于） &lt; less than（小于） &gt; more than（大于） &lt;= less than or equal to（小于等于） &gt;= more than or equal to（大于等于） &amp; AND（和） | OR（或） ! 反义符号（见下） 3.3 以下是不重要的一些内容 3.3.1 Console和R script编辑器的一些特性 Console 中每个命令开头的&gt;叫做prompt（我不知道它的中文名诶），当它出现在你所编辑的那一行的开头时，按下回车的时候那行的命令才会被执行。有时候它会消失，这时候按esc可以将其恢复。 prompt消失的主要原因是你的代码没有写完，比如括号不完整： &gt; 2+(3+4 这时你按回车，它会显示： &gt; 2+(3+4 + +号是在提示代码没写完整。这时你把括号补上再按回车： &gt; 2+(3+4 + ) [1] 9 便可以完成计算。 这意味着我们可以把一条很长的命令分成很多行。比如我们可以写这样的代码（在R script编辑器中！） if(1 + 1 == 2 &amp; 1 + 2 == 5){ print(2) } else{ print(3) } 然后Ctrl+Enter执行。 ``` &lt;function&gt;(&lt;argument&gt; = &lt;value&gt;) 3.3.2 赋值(assignment): 使用&lt;-，而不是= 与很多其他的计算机语言不同，&lt;-是R中的赋值符号： x &lt;- 2 3.4 简易的统计学计算 3.4.1 t分布 下面介绍的这几种方法是以这个t分布函数图为基础的： 阴影区域为\\(P\\)，虚线对应的\\(t\\)为\\(t^*\\). qt()可以把\\(P\\)转化成\\(t^*\\),pt()则相反。 举个例子就明白了。假设你需要算一个confidence interval（置信区间），confidence level（置信等级）为\\(95\\%\\)，即\\(\\alpha=0.05\\)，degrees of freedom(自由度)为\\(12\\)，那么怎么算\\(t^*\\)呢？ qt(0.975, df = 12) ## [1] 2.178813 对，就是这么简单。（为什么是\\(0.975\\)？因为你要把\\(0.05\\)分到左右两边，就等同于t分布的\\(t=0.095\\)） 再举一个例子，你在做t检验，双尾的，算出来\\(t=1.345\\)，自由度是\\(15\\)，那么\\(p\\)值怎么算呢？ p &lt;- (1-(pt(2.2, df = 15)))*2 p ## [1] 0.04389558 其中pt(2.2, df = 15)算出阴影面积，1减去它再乘以二就是对应的双尾t检验的\\(p\\)值。 3.4.2 z分布 没有z分布专门的函数。可以直接用t分布代替，把df调到很大（比如999999）就行了。比如我们试一下\\(95\\%\\)置信区间所对应的\\(z\\)： qt(0.975,9999999) ## [1] 1.959964 （果然是\\(1.96\\)） 3.4.3 t检验 t test分为以下几种： One sample t test Two sample… paired t test Unequal variance t test Equal variance t test 在R中做t检验，很简单，以上这些t检验，都是用t.test 这个函数去完成。 以one sample为例： x &lt;- c(2.23,2.24,2.34,2.31,2.35,2.27,2.29,2.26,2.25,2.21,2.29,2.34,2.32) t.test(x, mu = 2.31) ## ## One Sample t-test ## ## data: x ## t = -2.0083, df = 12, p-value = 0.06766 ## alternative hypothesis: true mean is not equal to 2.31 ## 95 percent confidence interval: ## 2.257076 2.312155 ## sample estimates: ## mean of x ## 2.284615 可以看到\\(p=0.06766\\)。 R的默认是双尾检验，你也可以设置成单尾的： x &lt;- c(2.23,2.24,2.34,2.31,2.35,2.27,2.29,2.26,2.25,2.21,2.29,2.34,2.32) t.test(x, mu = 2.31, alternative = &quot;less&quot;) ## ## One Sample t-test ## ## data: x ## t = -2.0083, df = 12, p-value = 0.03383 ## alternative hypothesis: true mean is less than 2.31 ## 95 percent confidence interval: ## -Inf 2.307143 ## sample estimates: ## mean of x ## 2.284615 \\(p\\)值一下就减了一半。 Two-sample: x &lt;- c(2.23,2.24,2.34,2.31,2.35,2.27,2.29,2.26,2.25,2.21,2.29,2.34,2.32) y &lt;- c(2.27,2.29,2.37,2.38,2.39,2.25,2.39,2.16,2.55,2.81,2.19,2.44,2.22) t.test(x, y) ## ## Welch Two Sample t-test ## ## data: x and y ## t = -1.5624, df = 13.65, p-value = 0.1411 ## alternative hypothesis: true difference in means is not equal to 0 ## 95 percent confidence interval: ## -0.18460351 0.02921889 ## sample estimates: ## mean of x mean of y ## 2.284615 2.362308 r的默认是non-paired, unequal variance，你可以通过增加paired = TRUE，var.equal = TRUE这两个参数来改变它。 t.test(x, y, paired = TRUE) ## ## Paired t-test ## ## data: x and y ## t = -1.4739, df = 12, p-value = 0.1662 ## alternative hypothesis: true difference in means is not equal to 0 ## 95 percent confidence interval: ## -0.19253874 0.03715412 ## sample estimates: ## mean of the differences ## -0.07769231 3.4.4 \\(\\chi^2\\) 检验 \\(\\chi^2\\)有两种，good "]
]
